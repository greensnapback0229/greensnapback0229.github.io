---
layout: post
title: (Network) 다 같은 Count가 아니에요..!
date: 2026-02-08 24:00
category: [Network]
author: greensnapback0229
tags: [Network, SSE, HTTP]
summary: Count의 동작 방식에 대한 내용입니다.


---



# SSE는 HTTP에서 어떻게 동작할까?

> Network 대해서 공부한 내용을 정리한 글입니다.  
> SSE 동작 방식에 대한 내용입니다. 





## Study 동기

부쩍 여러 프로젝트를 하면서 LLM API를 다양한게 연동해 보았습니다. 

단순히 요청 문자열을 Request하고 응답 전체를 Response하는 API도 있지만, Streaming 옵션을 붙여 SSE 통신을 통해 Token 단위로 데이터를 받아오는 API도 굉장히 많습니다. 

이를 구현하기 위해서 Spring Emitter도 사용해보고 높은 가용성을 위해서 Webflux를 도입하는 등 다양한 경험을 해봤습니다. 

하지만 SSE가 HTTP를 어떻게 사용하여 통신하는지 정확히 알고있지 않다고 생각하여 알아보게되었습니다.



## SSE (Server Sent Event) 개요

### SSE는 기술인가 표준인가?

SSE(Server-Sent Events)는 HTTP 응답을 “이벤트 스트림” 형태로 사용하는 방식에 대한 표준 규약입니다. 

이 표준은 W3C(Word Wide Web Consortium)이라는 컨소시엄에서 규정했습니다. 

> W3C 컨소시엄 - 웹이 서로 호환되게 돌아가도록 "표준"을 정하는 곳.

W3C에서 합의한 내용을 바탕으로 Browser들이 웹 기술을 구현합니다. 때문에 굉장히 중요한 역할을 한다고 할 수 있습니다.  

W3C에서 초안을 발의했지만 현재는 WHATWG라는 브라우저 벤더들이 운영하는 HTML 표준 그룹에서 관리합니다. 



W3C의 SSE 문서 - https://www.w3.org/TR/2012/WD-eventsource-20120426

WAHTWG의 SSE 문서 - https://html.spec.whatwg.org/multipage/server-sent-events.html



### SSE의 정의

SSE(Server-Sent Events)는 HTTP 응답을 `event stream` 형태로 사용하는 방식에 대한 표준 규약입니다. 



### event stream 

event stream이라는 용어가 굉장히 추상적인데 이는 HTTP 응답을 어떻게 해석할지에 대한 약속입니다. 

우리가 Browser든 서버든 HTTP의 body는 다 `stream` 형태로 받습니다.

JAVA Servlet에서도 HTTP 요청을 <a href="https://docs.oracle.com/javaee/6/api/javax/servlet/ServletRequest.html#getInputStream()"> HttpServletRequest </a>로 받는데 이때 body 데이터를 getInputStream() 메서드를 통해 stream 형태로 받습니다.

*그래서 HTTP Body는 Servlet을 통해 1번만 읽을 수 있는 것이죠* 



HTTP는 기본적으로 Request에 대해 Response가 1회 발생하는 구조가 기본입니다. 

이때 HTTP에서 헤더에 명시된 Content-Length 만큼 body에 데이터가 적재되어 있고 다 읽으면 연결이 "종료"됩니다.



하지만 `event stream`은 다릅니다. 

Event stream은 서버가 하나의 HTTP 연결을 유지한 채로 이벤트 단위의 데이터를 연속적으로 전송하는 응답 패턴입니다. 





event stream 동작에 관한 공식문서

https://html.spec.whatwg.org/dev/server-sent-events.html#the-event-stream-format



https://html.spec.whatwg.org/dev/server-sent-events.html#the-eventsource-interface







![img](https://dw1.s81c.com//IMWUC/MessageImages/ffaa2a95c8a54c659681bebb38f400d0.png)