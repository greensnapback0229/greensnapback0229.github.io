### Flush의 동작
`Flush()`는 영속성 컨택스의 변경 내용을 DB에 반영하는 과정이다. 

[구체적 과정]
1. 영속성 컨택스트에 있는 모든 엔티티를 스냅샷과 비교해서 다른 엔티티를 찾고 이를 가지고 수정 쿼리(SQL)을 만들어서 쓰기 지연 SQL 저장소에 등록한다. 
2. 쓰기 지연 SQL 저장소의 쿼리를 데이터베이스에 전송한다. 

영속성 컨택스트를 플러시하는 방법
- `em.flush()`를 직접 호출(테스트 or 다른 프레임워크 JPA를 혼합사용 아닌이상 사용 잘 안함)
- 트랜잭션 커밋시 자동 호출
- JPQL쿼리시 자동 호출 

### 플러시모드

| 옵션명               | 동작                             |
|----------------------|---------------------------------|
| `FlsuhModeType.AUTO`   | 커밋이나 쿼리를 실행할 때 플러시 |
| `FlushModeType.COMMIT` | 커밋할 때만 플러시              |